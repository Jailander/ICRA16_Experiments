<launch>
    <arg name="machine" default="localhost" />
    <arg name="user" default="" />
    <arg name="map"/>
    <arg name="with_no_go_map" default="false"/>
	<arg name="with_mux" default="false" />
    <arg name="no_go_map"/>

    <machine name="$(arg machine)" address="$(arg machine)" env-loader="$(optenv ROS_ENV_LOADER )" user="$(arg user)" default="true"/>

    
    <node name="map_server" pkg="message_store_map_switcher" type="message_store_map_server" args="-d $(arg env)"/>
    <!-- lanch map server -->
    <node name="map_server" pkg="map_server" type="map_server" args="$(arg map)"/>


    
    <!-- launch AMCL -->
    <include file="$(find scitos_2d_navigation)/launch/amcl.launch">
        <arg name="machine"  value="$(arg machine)"/>
        <arg name="user"  value="$(arg user)"/>
    </include>

    <!-- launch move base -->
    <include file="$(find scitos_2d_navigation)/launch/move_base.launch">
        <arg name="machine"  value="$(arg machine)"/>
        <arg name="user"  value="$(arg user)"/>
		<arg name="with_mux" value="$(arg with_mux)"/>
    </include>

</launch>